{"version":3,"file":"main.js","mappings":"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","sources":["webpack://gulp-builder/./src/js/main.js"],"sourcesContent":["// Исходные данные по слайдеру (const)\nconst\n  sliderCard = document.querySelectorAll('.slider__card'),\n  sliderLine = document.querySelector('.slider__line'),\n  sliderDots = document.querySelectorAll('.slider__dot'),\n  sliderBtnNext = document.querySelector('.slider__btn-next'),\n  sliderBtnPrev = document.querySelector('.slider__btn-prev');\n\n// Переменные\nlet\n  sliderCount = 0,\n  sliderWidth,\n  isDragging = false,\n  startPos = 0,\n  currentTranslate = 0,\n  prevTranslate = 0,\n  animationID;\n\n// Адаптивность слайдера\nwindow.addEventListener('resize', showSlide);\n\n// Кнопки управления слайдов вперед и назад\nsliderBtnNext.addEventListener('click', nextSlide);\nsliderBtnPrev.addEventListener('click', prevSlide);\n\n// Функции ==================\n\n// Начать демонстрацию\nfunction demo() {\n  document.querySelector('.demo').style.display = \"none\";\n  showSlide();\n};\ndocument.getElementById('demo').addEventListener('click', () => {\n  setTimeout(demo, 5000);\n})\n\n// Задает нужную ширину картинки и sliderLine\nfunction showSlide() {\n  sliderWidth = document.querySelector('.slider').offsetWidth;\n  sliderLine.style.width = sliderWidth * sliderCard.length + 'px';\n  sliderCard.forEach(item => item.style.width = sliderWidth + 'px');\n  rollSlider();\n}\n\n// Перелистывает слайд вперед\nfunction nextSlide() {\n  sliderCount++;\n  if (sliderCount >= sliderCard.length) sliderCount = 0;\n\n  rollSlider();\n  thisSlide(sliderCount);\n}\n\n// Перелистывает слайд назад\nfunction prevSlide() {\n  sliderCount--;\n  if (sliderCount < 0) sliderCount = sliderCard.length - 1;\n\n  rollSlider();\n  thisSlide(sliderCount);\n}\n\n// Задает шаг перемещения слайдов\nfunction rollSlider() {\n  sliderLine.style.transform = `translateX(${-sliderCount * sliderWidth}px)`;\n}\n\n// Указывает какой слайд по счету активен\nfunction thisSlide(index) {\n  sliderDots.forEach(item => item.classList.remove('active-dot'));\n  sliderDots[index].classList.add('active-dot');\n}\n\n// Вешает клик на dot\nsliderDots.forEach((dot, index) => {\n  dot.addEventListener('click', () => {\n    sliderCount = index;\n    thisSlide(sliderCount);\n    setPositionByIndex();\n  })\n})\n\n// touch\n// вешаем слушатель-события на каждый слайд\n\nsliderCard.forEach((slide, index) => {\n  // touch events\n  slide.addEventListener('touchstart', touchStart(index))\n  slide.addEventListener('touchend', touchEnd)\n  slide.addEventListener('touchmove', touchMove)\n\n  // откл меню при удержании\n  window.oncontextmenu = function (event) {\n    event.preventDefault()\n    event.stopPropagation()\n    return false\n  }\n})\n\nfunction getPositionX(event) {\n  return event.touches[0].clientX\n}\n\n// получаем индекс слайда, позицию клика\nfunction touchStart(index) {\n  return function (event) {\n    sliderCount = index\n    startPos = getPositionX(event)\n    isDragging = true\n    animationID = requestAnimationFrame(animation)\n  }\n}\n\n// текущее перемещенее\nfunction touchMove(event) {\n  if (isDragging) {\n    const currentPos = getPositionX(event)\n    currentTranslate = prevTranslate + currentPos - startPos\n  }\n}\n\n// получаем дельту, определеяем направление смещения\nfunction touchEnd() {\n  cancelAnimationFrame(animationID)\n  isDragging = false\n  const movedBy = currentTranslate - prevTranslate\n\n  // если перемещено достаточно негатива, то перейдите к следующему слайду, если он есть\n  if (movedBy < -100 && sliderCount < sliderCard.length - 1) sliderCount += 1\n\n  // если перемещено достаточно позитивное, то перейдите к следующему слайду, если он есть\n  if (movedBy > 100 && sliderCount > 0) sliderCount -= 1\n\n  setPositionByIndex();\n  thisSlide(sliderCount);\n}\n\nfunction animation() {\n  setSliderPosition()\n  if (isDragging) requestAnimationFrame(animation)\n}\n\n//  задаёт текущее перермещение\nfunction setPositionByIndex() {\n  currentTranslate = sliderCount * -window.innerWidth\n  prevTranslate = currentTranslate\n  setSliderPosition()\n}\n\nfunction setSliderPosition() {\n  sliderLine.style.transform = `translateX(${currentTranslate}px)`\n}\n"],"names":["sliderCard","document","querySelectorAll","sliderLine","querySelector","sliderDots","sliderBtnNext","sliderBtnPrev","sliderCount","sliderWidth","isDragging","startPos","currentTranslate","prevTranslate","animationID","window","addEventListener","showSlide","nextSlide","prevSlide","demo","style","display","getElementById","setTimeout","offsetWidth","width","length","forEach","item","rollSlider","thisSlide","transform","index","classList","remove","add","dot","setPositionByIndex","slide","touchStart","touchEnd","touchMove","oncontextmenu","event","preventDefault","stopPropagation","getPositionX","touches","clientX","requestAnimationFrame","animation","currentPos","cancelAnimationFrame","movedBy","setSliderPosition","innerWidth"],"sourceRoot":""}